(this.webpackJsonpalt_nti=this.webpackJsonpalt_nti||[]).push([[0],{19:function(e,t,n){},24:function(e,t,n){},28:function(e,t,n){e.exports=n(43)},33:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),s=(n(33),n(1)),i=n(2),l=n(4),u=n(3),m=n(5),d=(n(7),n(34),n(12)),f=n(14),h=n(17),p=n(8),b=n.n(p),v=n(13),E=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).onSubmitHandler=function(){Object(v.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.props.sendPost("auth/login/",{username:e.state.username,password:e.state.password}),t.next=3,n;case 3:a=t.sent,e.validateLogin(a);case 5:case"end":return t.stop()}}),t)})))()},e.validateLogin=function(t){t===sessionStorage.token&&t?e.setState({redirect:!0}):e.setState({redirect:!1})},e.onChangeField=function(t){var n=t.target,a=n.name,r=n.value;e.setState(Object(h.a)({},a,r))},e.state={username:"",password:"",redirect:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.username,a=t.password;return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{className:"form-auth option-text-m"},r.a.createElement("input",{type:"text",value:n,className:"field",name:"username",onChange:this.onChangeField}),r.a.createElement("input",{type:"password",value:a,className:"field",name:"password",onChange:this.onChangeField}),r.a.createElement("input",{type:"button",value:"\u0412\u041e\u0419\u0422\u0418",className:"submit-button",onClick:this.onSubmitHandler}),function(){if(!0===e.state.redirect)return r.a.createElement(f.a,{to:"/loader",from:"/auth"});console.log("try again")}()))}}]),t}(r.a.Component),O=(n(19),{txt4circle:{font:" 400 16px 'Montserrat', sans- serif"},title:{marginTop:"40px"},task:{marginTop:"70px"},heading:{font:"400 60px 'Montserrat', sans-serif"},subHeading:{font:"400 36px 'Montserrat', sans-serif"},text:{font:"400 24px 'Montserrat', sans-serif"},upperElement:{zIndex:"9999"},lowerElement:{zIndex:"98"},unabledElement:{zIndex:"0"}}),g=function(e){var t="/0/task/"+e.id;return r.a.createElement("li",{key:e.id},r.a.createElement(d.b,{to:t},e.name)," ")},k=function(e){var t="/0/info/"+e.id;return r.a.createElement("li",{key:e.id},r.a.createElement(d.b,{to:t},"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f")," ")},j=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("contest"))[0].tasks.map((function(e){return 1===e.task_type?r.a.createElement(g,{key:e.id,name:e.title,id:e.id}):r.a.createElement(k,{key:e.id,name:e.title,id:e.id})}));return r.a.createElement("ul",{className:"option-text-m"},e)}}]),t}(r.a.Component),x=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).openMenuBox=function(){e.setState({menu:!0})},e.closeMenuBox=function(){e.setState({menu:!1})},e.renderMenu=function(){return r.a.createElement("div",{className:"screen"},r.a.createElement("div",{className:"gray-screen",style:O.lowerElement}),r.a.createElement("div",{className:"nav-bar",style:O.upperElement},r.a.createElement("button",{className:"close-menu-btn option-text-m",onClick:e.closeMenuBox},"disable menu"),r.a.createElement(j,null)))},e.renderBtn=function(){return r.a.createElement("div",{className:"btn open-menu-btn",style:O.unabledElement,onClick:e.openMenuBox})},e.state={menu:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.menu?this.renderMenu():this.renderBtn()}}]),t}(r.a.Component);var y=function(e){return r.a.createElement("div",{className:"message blck-border",key:e.id},r.a.createElement("div",{className:"content-box option-text-s"},e.content),r.a.createElement("div",{className:"time-box small-text"},e.time+" "+e.date))},N=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).openChatBox=function(){e.setState({chat:!0})},e.closeChatBox=function(){e.setState({chat:!1})},e.renderChat=function(t){var n=t.map((function(e){return r.a.createElement(y,{key:e.id,content:e.text,date:e.id,time:e.id})}));return r.a.createElement("div",{className:"chat-box blck-border"},r.a.createElement("button",{className:"close-chat-btn option-text-m",onClick:e.closeChatBox},"disable chat"),n)},e.renderBtn=function(){return r.a.createElement("div",{className:"btn open-chat-btn",style:O.unabledElement,onClick:e.openChatBox})},e.state={chat:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=JSON.parse(localStorage.getItem("notifications"));return this.state.chat?this.renderChat(e):this.renderBtn()}}]),t}(r.a.Component);n(41);var S=function(e){return r.a.createElement("div",{className:"bar blck-border option-text-m"},r.a.createElement("div",{style:{backgroundColor:e.color,width:2*e.width+"px",height:"100%"}}),r.a.createElement("div",{style:{position:"inherit",marginTop:"-23px"}},e.content))};var w=function(e){return r.a.createElement("div",{className:"circle blck-border"},r.a.createElement("div",{style:O.txt4circle},function(e){var t=e%10;return 1===t&&11!==e?e+" \u0431\u0430\u043b\u043b\u0430":2!==t&&3!==t&&4!==t||12===e||13===e||14===e?e+" \u0431\u0430\u043b\u043b\u043e\u0432":e+" \u0431\u0430\u043b\u043b\u0430"}(e.content)))},C=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).countProgress=function(e,t){return Math.ceil(e/t*100)},e.countTime=function(e,t){return 34},e.countScore=function(t,n,a){var r=0;t.forEach((function(e){r+=e[n]})),e.setState(Object(h.a)({},a,r))},e.state={score:"",maxScore:"",time:"20:20",maxTime:"36:00"},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){JSON.parse(localStorage.getItem("contest"));var e=JSON.parse(localStorage.getItem("tasks"));console.log("p_tasks",e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"points"},r.a.createElement("div",{className:"bars"},r.a.createElement(S,{width:this.countProgress(this.state.score,this.state.maxScore),color:"#78d0ff",content:"\u041f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 - "+this.countProgress(this.state.score,this.state.maxScore)+"%"}),r.a.createElement(S,{width:this.countTime(this.state.time,this.state.maxTime),color:"#96c7cc",content:this.state.time})),r.a.createElement(w,{content:this.state.score}))}}]),t}(r.a.Component),B=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).openNotPanel=function(){e.setState({notification:!0})},e.closeNotPanel=function(){e.setState({notification:!1})},e.renderBtn=function(){return r.a.createElement("button",{className:"btn not-open-btn",style:O.unabledElement,onClick:e.openNotPanel})},e.renderBox=function(){return r.a.createElement("div",{className:"screen not-panel-align"},r.a.createElement("div",{className:"gray-screen",style:O.lowerElement}),r.a.createElement("div",{className:"msg-box",style:O.upperElement},r.a.createElement("button",{className:"btn not-close-btn",onClick:e.closeNotPanel}),r.a.createElement("div",{className:"not-text normal-text"},T)))},e.state={notification:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.state.notification?this.renderBox():this.renderBtn()}}]),t}(r.a.Component),T="\u0432 \u044d\u0442\u043e\u043c \u043e\u043a\u043d\u0435 \u0431\u0443\u0434\u0435\u0442\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u044c\u0441\u044f \u0440\u0430\u0437\u043b\u0438\u0447\u043d\u0430\u044f \u0438\u043d\u0432\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f. \u0422\u043e \u0435\u0441\u0442\u044c \u043c\u043e\u0436\u0435\u0442 \u0432\u044b\u0432\u043e\u0434\u0438\u0442\u0441\u044f \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0442\u0438\u043f\u0430. \u0435\u0441\u043b\u0438 \u043f\u0435\u0442\u044f \u043d\u0430\u043f\u0438\u0448\u0435\u0442 \u043a \u043d\u0435\u043c\u043a \u0430\u043f\u0438",I=(n(24),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,c=new Array(a),o=0;o<a;o++)c[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(c)))).dateCleaner=function(e){var t=e.split("T"),n=t[0];return n+="\t"+(t=t[1].split(".")[0])+"\t"},n.renderRight=function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",{className:"data rigth"},"".concat(n.dateCleaner(e.date)).concat(e.text)),r.a.createElement("td",{className:"result"},e.result))},n.renderWrong=function(e){return r.a.createElement("tr",null,r.a.createElement("td",{className:"data wrong"},"".concat(n.dateCleaner(e.date)).concat(e.error)),r.a.createElement("td",{className:"result"},"0"))},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return null==this.props.error?this.renderRight(this.props):this.renderWrong(this.props)}}]),t}(r.a.Component)),M=(r.a.Component,function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"heading2 title"},this.props.title),r.a.createElement("div",{className:"normal-text task"},this.props.text))}}]),t}(r.a.Component)),P=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"heading2 title"},this.props.title),r.a.createElement("div",{className:"normal-text"},this.props.text))}}]),t}(r.a.Component),J="http://139.162.141.55:8000",_=function(){var e=Object(v.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(J,"/api/0/").concat(t),{method:"GET",headers:{"Content-Type":"application/json;charset=utf-8",Authorization:"Token "+sessionStorage.token}});case 2:if(!(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:return a=e.sent,"task/"===t?localStorage.setItem("task",JSON.stringify(a.data)):"contest/"===t?localStorage.setItem("contest",JSON.stringify(a.data)):"notification/"===t?localStorage.setItem("notifications",JSON.stringify(a.data)):"answer/"===t&&localStorage.setItem("answers",JSON.stringify(a.data)),e.abrupt("return",a.data);case 11:alert("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: "+n.status);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(v.a)(b.a.mark((function e(t,n){var a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(J,"/api/0/").concat(t),{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(n)});case 2:return a=e.sent,e.next=5,a.json();case 5:if("undefined"===typeof(r=e.sent).key){e.next=11;break}return sessionStorage.setItem("token",r.key),e.abrupt("return",r.key);case 11:return sessionStorage.setItem("token",!1),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handler=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("contest/");case 2:t=e.sent,_("answer/"),_("task/"),_("notification/"),console.log(t);case 7:case"end":return e.stop()}}),e)}))),e.renderTasks=function(){return JSON.parse(localStorage.getItem("contest"))[0].tasks.map((function(e){return 1===e.task_type?r.a.createElement(f.b,{exact:!0,path:"/0/task/"+e.id,render:function(){return r.a.createElement(M,{title:e.title,text:e.text})}}):r.a.createElement(f.b,{exact:!0,path:"/0/info/"+e.id,render:function(){return r.a.createElement(P,{title:e.title,text:e.text})}})}))},e.state={status:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return this.handler(),r.a.createElement("div",null,r.a.createElement(d.a,null,r.a.createElement(x,null),r.a.createElement(N,null),r.a.createElement(B,null),r.a.createElement("div",{className:"content main"},r.a.createElement(C,null),this.renderTasks(),r.a.createElement(f.b,{path:"/0/task",component:M}),r.a.createElement(f.b,{path:"/0/info",component:P}))))}}]),t}(r.a.Component),A=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"logo"}))};var G=function(){return r.a.createElement("footer",null)},H=(n(42),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).handler=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_("contest/");case 2:t=e.sent,_("answer/"),_("task/"),_("notification/"),console.log(t);case 7:case"end":return e.stop()}}),e)}))),e.state={isLoaded:!1},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){void 0!==typeof localStorage.getItem("contest")?(e.setState({isLoaded:!0}),console.log("changeState")):e.handler()}),5e3)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"container"},function(){if(!0===e.state.isLoaded)return console.log("redirecy"),r.a.createElement(f.a,{to:"/0/task/1",from:"/loader"});e.handler(),console.log("not redirect")}(),r.a.createElement("div",{class:"item-1"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-2"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-3"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-4"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-5"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-6"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-7"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-8"},r.a.createElement("div",null)),r.a.createElement("div",{class:"item-9"},r.a.createElement("div",null)))}}]),t}(r.a.Component)),W=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(l.a)(this,Object(u.a)(t).call(this))).state={server:"http://139.162.141.55:8000",token:""},e}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(A,null),r.a.createElement("div",{className:"content-page"},r.a.createElement(d.a,null,r.a.createElement(f.b,{path:"/auth",render:function(){return r.a.createElement(E,{sendPost:e.props.sendPost})}}),r.a.createElement(f.a,{to:"/auth",from:"/alt_nti"}),r.a.createElement(f.b,{path:"/loader",render:function(){return r.a.createElement(H,null)}}),r.a.createElement(f.b,{path:"/0",render:function(){return r.a.createElement(z,{sendGet:e.props.sendGet})}}))),r.a.createElement(G,null))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(W,{sendGet:_,sendPost:L}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},7:function(e,t,n){}},[[28,1,2]]]);
//# sourceMappingURL=main.fec9de70.chunk.js.map